<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>ส่งข้อความลับถึงฉัน</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; padding-top: 50px; background: #f0f2f5; }
        .card { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); width: 300px; }
        textarea { width: 100%; height: 100px; margin-top: 10px; border-radius: 8px; border: 1px solid #ddd; padding: 10px; box-sizing: border-box; }
        button { width: 100%; background: #ff4d4d; color: white; border: none; padding: 10px; border-radius: 20px; cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="card">
        <h3>ส่งข้อความลับ...</h3>
        <textarea id="msgInput" placeholder="พิมพ์อะไรก็ได้ที่นี่..."></textarea>
        <button onclick="sendMessage()">ส่งข้อความ</button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCbn-_PjumwqwN52pOrGa_JE6p71pV8-7c",
  authDomain: "irin-c7b26.firebaseapp.com",
  databaseURL: "https://irin-c7b26-default-rtdb.firebaseio.com",
  projectId: "irin-c7b26",
  storageBucket: "irin-c7b26.firebasestorage.app",
  messagingSenderId: "700968943191",
  appId: "1:700968943191:web:359276d99e19e268b3ad12",
  measurementId: "G-F4ZM4Z8LKG"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

   function sendMessage() {
    const text = document.getElementById('msgInput').value;
    if(text.trim() === "") return alert("กรุณาพิมพ์ข้อความก่อน!");

    // ส่งข้อมูลไปที่ Firebase (ใช้ตัวแปร app ที่คุณสร้างไว้ในบรรทัด 44)
    const database = firebase.database(); 
    database.ref('messages').push({
        content: text,
        timestamp: Date.now()
    }).then(() => {
        alert("ส่งข้อความสำเร็จแล้ว!");
        document.getElementById('msgInput').value = "";
    }).catch((error) => {
        alert("เกิดข้อผิดพลาด: " + error.message);
    });
} 
    </script>
    
</body>
</html>


